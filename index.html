<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/zenika.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vive les CSS s√©mantiques</title>
    <script type="module" src="/main.js"></script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section>
          <h1 class="r-fit-text">la puissance des <br>CSS S√©mantiques</h1>

          <p>
            J√©r√©mie Patonnier ‚Äî Zenika <img src="zenika.svg" style="height:.8em; margin: 0" alt="" /><br>
            <small>@JeremiePat (<em>Mastondon, GitHub, etc.</em>)</small>
          </p>
        </section>

        <section>
          <h1 class="r-fit-text">Le constat qui pique</h1>

          <p><strong>La plupart des d√©veloppeurs fullstack <br>(et un peu front) ne comprennent rien √† CSS.</strong></p>

          <ul>
            <li class="fragment fade-left">Les s√©lecteurs</li>
            <li class="fragment fade-left">La cascade</li>
            <li class="fragment fade-left">Les ¬´ <a href="http://developer.mozilla.org/docs/Web/CSS/CSS_positioned_layout/Understanding_z-index/Stacking_context" target="_blank"><i lang="en">Stacking Context</i></a> ¬ª</li>
            <li class="fragment fade-left">
              Le cycle de rendu des navigateurs
              <span class="fragment"><br>‚á¢ <a href="https://www.youtube.com/watch?v=cCOL7MC4Pl0" target="_blank">Jack Archibald ‚Äî In The Loop ‚Äî JSConf.Asia 2018</a></span>
            </li>
          </ul>

          <aside class="notes">
            <p>
              <a href="https://css-tricks.com/browser-painting-and-considerations-for-web-performance/">https://css-tricks.com/browser-painting-and-considerations-for-web-performance/</a>
            </p>
          </aside>
        </section>

        <section>
          <h1 class="r-fit-text">Les r√©alit√©s de la vie</h1>

          <p><strong>√âcrire et maintenir des feuilles de styles compactes et performantes, c'est compliqu√© !</strong></p>

          <ul>
            <li class="fragment fade-left">
              Des m√©thodes :
                <a href="http://oocss.org/" target="_blank">OOCSS</a>,
                <a href="https://smacss.com/" target="_blank">SMACSS</a>,
                <a href="https://getbem.com/" target="_blank">BEM</a>,
                <a href="https://www.xfive.co/blog/itcss-scalable-maintainable-css-architecture/" target="_blank">ITCSS</a>,
                <a href="https://cube.fyi/" target="_blank">CUBE</a>...
            </li>
            <li class="fragment fade-left">
              Des frameworks/biblioth√®ques : <br>
              <a href="https://csstools.github.io/normalize.css/">Normalize</a>,
              <a href="http://getskeleton.com" target="_blank">Skeleton</a>,
                <a href="https://getbootstrap.com/" target="_blank">Bootstrap</a>,
                <a href="https://get.foundation/" target="_blank">Foundation</a>,
                <a href="https://bulma.io/" target="_blank">Bulma</a>,
                etc.
            <li class="fragment fade-left">
              Des Design Syst√®mes : <br>
                  <a href="https://m3.material.io/" target="_blank">Material</a>,
                  <a href="https://www.microsoft.com/design/fluent" target="_blank">Fluent</a>,
                  <a href="https://primer.style/" target="_blank">Primer</a>,
                  <a href="https://polaris.shopify.com/" target="_blank">Polaris</a>... (
                    <a href="https://www.systeme-de-design.gouv.fr/" target="_blank">FR</a>,
                    <a href="https://design-system.service.gov.uk" target="_blank">UK</a>,
                    <a href="https://designsystem.digital.gov/" target="_blank">USA</a>
                  )
            </li>
            <li class="fragment fade-left">
              Des outils : <br>
                <a href="https://sass-lang.com/" target="_blank">SASS</a>,
                <a href="https://lesscss.org/" target="_blank">LESS</a>,
                <a href="https://postcss.org/" target="_blank">PostCSS</a>,
                <a href="https://lightningcss.dev/" target="_blank">Lightning CSS</a>,
                <a href="https://tailwindcss.com/" target="_blank">Tailwind</a>,
                <a href="https://unocss.dev/" target="_blank">UnoCSS</a>...
            </li>
            <li class="fragment fade-left">
              Et des id√©es √† la con :
                CSS-in-JS (<a href="https://cssinjs.org" target="_blank">JSS</a>, <a href="https://styled-components.com/" target="_blank">Style Components</a>, <a href="https://emotion.sh" target="_blank">Emotion</a>, <a href="https://stitches.dev" target="_blank">Stitches</a>),
                <a href="https://github.com/css-modules/css-modules" target="_blank">CSS Modules</a>
            </li>
          </ul>

          <aside class="notes">
            <p>
              <a href="https://css-tricks.com/browser-painting-and-considerations-for-web-performance/">https://css-tricks.com/browser-painting-and-considerations-for-web-performance/</a>
            </p>
          </aside>
        </section>

        <section>
          <h1 class="r-fit-text">CSS se modernise !</h1>

          <ul>
            <li class="fragment fade-left">De nouveaux s√©lecteurs :
              <a href="https://developer.mozilla.org/docs/Web/CSS/:is" target="_blank">:is()</a>,
              <a href="https://developer.mozilla.org/docs/Web/CSS/:where" target="_blank">:where()</a>,
              <a href="https://developer.mozilla.org/docs/Web/CSS/:has" target="_blank">:has()</a>
            </li>
            <li class="fragment fade-left">De nouvelles syntaxes :
              <a href="https://developer.mozilla.org/docs/Web/CSS/Using_CSS_custom_properties" target="_blank">Custom Properties</a>,
              <a href="https://developer.mozilla.org/docs/Web/CSS/CSS_nesting/Using_CSS_nesting" target="_blank">Nesting</a>
            </li>
            <li class="fragment fade-left">De nouvelles fonctionnalit√©s :
              <a href="https://developer.mozilla.org/docs/Web/CSS/@container" target="_blank">@container</a>,
              <a href="https://developer.mozilla.org/docs/Web/CSS/@layer" target="_blank">@layer</a>
            </li>
          </ul>
        </section>

        <section>
          <h1 class="r-fit-text">CSS s√©mantiques ?</h1>

          <p class="fragment fade-in">
            Les CSS s√©mantiques sont des styles qui refl√®tent une r√©alit√© qui est exprim√© dans la s√©mantique du code HTML.
          </p>
        </section>

        <section>
          <h1 class="r-fit-text contrast">Pros &amp; Cons</h1>

          <ul>
            <li class="fragment fade-left">Chaque structure s√©mantique √† son style propre</li>
            <li class="fragment fade-left">Tout changement de la structure HTML impact CSS</li>
            <li class="fragment fade-left">La s√©mantique de HTML est limit√© m√™me avec ARIA</li>
          </ul>

          <aside class="notes">
            <p>
              <a href="https://adamwathan.me/css-utility-classes-and-separation-of-concerns/">https://adamwathan.me/css-utility-classes-and-separation-of-concerns/</a>
              <a href="https://nicolasgallagher.com/about-html-semantics-front-end-architecture/">https://nicolasgallagher.com/about-html-semantics-front-end-architecture/</a>
            </p>
          </aside>
        </section>

        <section>
          <h1 class="r-fit-text">Sp√©cificit√© des s√©lecteurs CSS</h1>

          <table>
            <tr>
              <th scope="col">ID (<code>#</code>)
              <th scope="col">Classe (<code>.</code>), Attribut (<code>[...]</code>), <br>Pseudo-classe (<code>:</code>)
              <th scope="col">Element
            <tr>
              <td>0
              <td>0
              <td>0
          </table>

          <ul style="
            font-size:.85em;
            margin-top: 1.5rem
          ">
            <li class="fragment fade-left">Les combinateurs (<strong><code>+</code></strong>, <strong><code>></code></strong>, <strong><code>~</code></strong>) et les queries (<code>@</code>) ne sont pas compt√©s</li>
            <li class="fragment fade-left">La pseudo-classe <strong><code>:where()</code></strong> et tout ce quel contient n'est pas compt√©</li>
            <li class="fragment fade-left">Les pseudo-class <strong><code>:is()</code></strong>, <strong><code>:has()</code></strong> et <strong><code>:not()</code></strong> sont compt√©s <br>avec le poids du s√©lecteurs le plus lourd qu'elles contiennent</li>
          </ul>
        </section>

        <section data-markdown>
          <textarea data-template>
            # S√©mantique ou pas ? <!-- .element: class="r-fit-text" -->

            ```css
            /* Un nom de classe ou d'ID, m√™me intelligible */
            /* ne refl√®te aucune s√©mantique HTML           */
            .button, #dialog { /* 0.1.0 / 1.0.0 */ }
            ```
            <!-- .element: class="fragment fade-in" -->

            ```css
            /* Les noms d'√©l√©ments HTML sont s√©mantiques mais fragiles */
            button { /* 0.0.1 */ }
            section > :is(h1, h2, h3, h4, h5, h6) { /* 0.0.2 */ }
            ```
            <!-- .element: class="fragment fade-in" -->

            ```css
            /* Le s√©lecteur d'attribut et les pseudo-classes qui refl√®tent */
            /* des √©tats de HTML repr√©sentent une s√©mantique forte */
            [role="button"]:is(:hover, :active, :focus) { /* 0.2.0 */ }
            section:empty { /* 0.1.1 */ }
            ```
            <!-- .element: class="fragment fade-in" -->
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            # Voir les probl√®mes<!-- .element: class="r-fit-text" -->

            ```css
            /* Identifier les probl√®mes                */
            /* ‚ö†Ô∏è en environnement de dev uniquement ! */

            /* Un style par d√©faut qui met tous les probl√®mes en √©vidence */
            * { /* 0.0.0 */
              outline: 5px solid var(--color-error);
              outline-offset: 5px;
            }
            ```
            <!-- .element: class="fragment fade-in" -->
            ```css
            /* Utiliser les n√©gations pour montrer les probl√®mes sp√©cifiques */
            section:not(:has(> :first-child:is(h1, h2, h3))) { /* 0.1.2 */
              background: var(--color-error);
            }
            ```
            <!-- .element: class="fragment fade-in" -->
            ```css
            /* Cr√©er des styles par d√©faut qui montre un probl√®me */
            /* puis les annuler dans les cas pr√©vus.              */
            section { background: var(--color-error); } /* 0.0.1 */
            section:has(> :first-child:is(h1, h2, h3)) { background: none; } /* 0.1.2 */
            ```
            <!-- .element: class="fragment fade-in" -->
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            # Associer styles et structures <!-- .element: class="r-fit-text" -->


            ```html
            <section aria-labeledby="title-a11y">
              <h1 id="title-a11y">Hello !</h1>
            </section>
            ```

            ```css[1-2|4-5]
            /* On peut mettre des titre n'importe ou... bof ü§î */
            h1, h2, h3, h4, h5, h6 { /* 0.0.1 */ }

            /* On devrait toujours mettre un titre dans une section */
            section > :is(h1, h2, h3, h4, h5, h6) { /* 0.0.2 */ }
            ```
            <!-- .element: class="fragment fade-in" -->

            ```css[1-2|4-5|7-8]
            /* Un section seul ne vaut pas mieux qu'un div ü§§ */
            section { /* 0.0.1 */ }

            /* Les sections doivent avoir un titre */
            section:has(> :is(h1, h2, h3, h4, h5, h6)) { /* 0.0.2 */ }

            /* Les r√©gions doivent avoir un libell√© accessible */
            section[aria-labeledby]:has(> :is(h1, h2, h3, h4, h5, h6)[id]) { /* 0.2.2 */ }
            ```
            <!-- .element: class="fragment fade-in" -->
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            # D√©finir un composant s√©mantique <!-- .element: class="r-fit-text" -->

            Un bouton s√©mantique

            ```html
            <button>Button A</button>
            <a role="button" href="#">Button B</a>
            <input type="image" src="..." alt="Button C">
            ```

            ```css[1-3,6-14]
            :is(button, a[role="button"], input[type="image"]) {
              /* 0.1.1 */

              /* Modificateurs de style arbitraire scop√© */
              &.secondary { /* 0.2.1 */ }

              /* Modificateurs d'√©tat s√©mantique */
              &:is(:hover, :focus, :active) { /* 0.2.1 */ }

              &:is(
                :disabled,
                [aria-disabled="true"][tabindex="-1"]
              ) { /* 0.3.1 */ }
            }
            ```
            <!-- .element: class="fragment fade-in" -->
          </textarea>
        </section>

        <section data-markdown data-transition="slide-in fade-out">
          <textarea data-template>
            # D√©finir un composant s√©mantique <!-- .element: class="r-fit-text" -->

            ARIA Authoring Practices : [Tabs Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/tabs/)

            ```html
            <ul role="tablist" aria-label="Mes onglets">
              <li role="tab" id="t1" aria-controls="p1" aria-active="true" tabindex="0">
                ...
              </li>
              <li role="tab" id="t2" aria-controls="p2" aria-active="false" tabindex="-1">
                ...
              </li>
            </ul>

            <section role="tabpanel" id="p1" aria-labelledby="t1" tabindex="0">
              ...
            </section>

            <section role="tabpanel" id="p2" aria-labelledby="t2" tabindex="-1" hidden>
              ...
            </section>
            ```
          </textarea>
        </section>

        <section data-markdown data-transition="fade-in slide-out">
          <textarea data-template>
            # D√©finir un composant s√©mantique <!-- .element: class="r-fit-text" -->

            ARIA Authoring Practices : [Tabs Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/tabs/)

            ```css[1-2,16|4-5,9|4-9|11-12,15|11-15|1-16]
            [role="tablist"] {
              /* 0.1.0 */

              & > [role="tab"] {
                /* 0.2.0 */

                &[aria-active="true"]  { /* 0.3.0 */ }
                &[aria-active="false"] { /* 0.3.0 */ }
              }

              & ~ [role="tabpanel"] {
                /* 0.2.0 */

                &[hidden] { /* 0.3.0 */ }
              }
            }
            ```
          </textarea>
        </section>

        <section>
          <h1>Dans le future</h1>

          <ul>
            <li class="fragment">Lire et utiliser les valeurs des attributs HTML avec
              <a href="https://drafts.csswg.org/css-values-5/#funcdef-attr" target="_blank">attr()</a></li>
            <li class="fragment">Simplifier/mutualiser les s√©lecteurs avec
              <a href="https://drafts.csswg.org/css-extensions/#custom-propertyr" target="_blank">@custom-selector</a></li>
            <li class="fragment">Plus de s√©lecteur s√©mantique:
              <a href="https://developer.mozilla.org/docs/Web/CSS/:local-link" target="_blank">:local-link</a>,
              <a href="https://developer.mozilla.org/docs/Web/CSS/:target-within" target="_blank">:target-within</a>,
              <a href="https://developer.mozilla.org/docs/Web/CSS/:popover-open" target="_blank">:popover-open</a>
            </li>
          </ul>
        </section>

        <section>
          <h1 class="r-fit-text">C'est g√©nial mais‚Ä¶</h1>

          <ul>
            <li class="fragment fade-left">Tout ne peut pas √™tre s√©mantique (<i lang="en">Layout</i>)</li>
            <li class="fragment fade-left">Les s√©lecteurs peuvent vite devenir tr√®s complexe</li>
            <li class="fragment fade-left">M√™me avec ARIA, certains composants restent ambigu√´s (les alertes ou les champs de formulaire par exemple)</li>
          </ul>

          <p class="fragment fade-in">
            Pour b√©n√©ficier de toute la puissance des CSS s√©mantiques,
            <br>il faut d'abord commencer par ma√Ætriser <a href="https://web.dev/learn/html/semantic-html" target="_blank">la s√©mantique HTML (avec ARIA)</a>
            et prendre un parti-pris assum√© sur les structures de balises utilisables.</p>
        </section>

        <section>
          <h1 class="r-fit-text">Ce qu'il faut retenir</h1>

          <ul>
            <li class="fragment fade-left">Ne vous laissez pas enfermer par vos outils</li>
            <li class="fragment fade-left">CSS est un outil riche et puissant, apprenez √† le ma√Ætriser</li>
            <li class="fragment fade-left">Les CSS utilitaires et s√©mantiques sont des outils, pas des solutions</li>
          </ul>
        </section>

        <section>
          <h1>MERCI ü•∞</h1>
          <h2>Questions ?</h2>

          <p>
            J√©r√©mie Patonnier ‚Äî Zenika <img src="zenika.svg" style="height:.8em; margin: 0" alt="" /><br>
            <small>@JeremiePat (<em>Mastondon, GitHub, etc.</em>)</small>
          </p>
        </section>
      </div>
    </div>
  </body>
</html>
